function runDisplayConsultationsCalendar(){try{displayConsultationsCalendar()}catch(n){console.error(n)}}function displayConsultationsCalendar(){function n(n){let t=document.getElementById("calendar"),i=new FullCalendar.Calendar(t,{locale:"bg",initialView:"dayGridMonth",editable:!0,eventDurationEditable:!1,contentHeight:"auto",dayMaxEvents:!0,headerToolbar:{left:"prev,next today",center:"title",right:"timeGridDay,timeGridWeek,dayGridMonth"},eventMouseEnter:function(n){let t=$(n.el);t.hasClass("hasTooltip")||(t.tooltip({title:n.event.extendedProps.description,placement:"top"}),t.addClass("hasTooltip"));t.triggerHandler("mouseover")},eventDrop:function(n){if(!confirm("Сигурни ли сте относно тази промяна?")){n.revert();return}let t=new moment(n.event.start).utc().format("yyyy-MM-DDTHH:mm");$.ajax({type:"POST",url:"/Consultations/ChangeConsultationStartTime",data:JSON.stringify({consultationId:n.event.id,startTime:t}),contentType:"application/json; charset=utf-8",dataType:"json",error:()=>{n.revert(),alert("Невалидни данни!")}})},events:n});i.render()}$.ajax({url:"/Consultations/GetCalendarConsultations",type:"GET",dataType:"JSON",success:function(t){let i=[];$.each(t,function(n,t){i.push({id:t.id,title:`Консултация`,description:t.description,start:new moment(moment.utc(t.startTime).toDate()).format("YYYY-MM-DDTHH:mm"),end:new moment(moment.utc(t.endTime).toDate()).format("YYYY-MM-DDTHH:mm"),backgroundColor:"rgb(51, 182, 121)",borderColor:"rgb(51, 182, 121)"})});n(i)}})}window.addEventListener("DOMContentLoaded",runDisplayConsultationsCalendar);