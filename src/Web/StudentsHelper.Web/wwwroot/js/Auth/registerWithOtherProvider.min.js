function runRegisterWithOtherProviderEngine(){try{registerWithOtherProviderEngine()}catch(n){console.error(n)}}function registerWithOtherProviderEngine(){function r(n){const t=Array.from(n.querySelectorAll("[name]"));return t.every(n=>$(n).valid())}function o(n,t){if(!r(n.getCurrentPart())){t.preventDefault();return}}function u(){async function u(i){if(i+1===t.length){document.getElementById("continue").classList.remove(n);return}document.getElementById("continue").classList.add(n);for(let r=i+1;r<t.length;r++)t[r].parentNode.classList.add(n);r(t[i+1],t[i].value)}function r(t,i){function r(i){function u(n){let t=document.createElement("option");return t.value=n.id,t.textContent=n.name,t}const r=new DocumentFragment;let f=e[t.name];r.appendChild(u({id:0,name:f}));i.forEach(n=>{r.appendChild(u(n))});t.innerHTML="";t.appendChild(r);t.parentNode.classList.remove(n)}t.children.length>0&&i==null||fetch(`/Locations/Get?selectName=${t.name}&lastSelectedId=${i}`).then(async n=>await n.json()).then(r)}Array.from(document.getElementById("SchoolId").parentNode.classList).some(t=>t==n)?document.getElementById("continue").classList.add(n):document.getElementById("continue").classList.remove(n);document.getElementById("past-part").classList.add(n);document.getElementById("register-submit").classList.add(n);const i=n=>document.querySelector(`select[name="${n}"]`),t=[i("regions"),i("townships"),i("populatedAreas"),document.getElementById("SchoolId")];t.slice(0,t.length).forEach((n,t)=>n.addEventListener(f,u.bind(null,t)));r(t[0],null)}function s(){document.getElementById("past-part").classList.remove(n);document.getElementById("register-submit").classList.remove(n);document.getElementById("continue").classList.add(n)}let n="hidden",t="click",f="change",e={regions:"Област",townships:"Община",populatedAreas:"Населено място","TeacherModel.SchoolId":"Училище"};const i=((t=1)=>{const e=[null,u,s],i=()=>document.getElementById(`part-${t}`),f=(u,f)=>{if(r(i())){if(t==1){const t=document.getElementById("SchoolId");if(t.value==0||Array.from(t.parentNode.classList).some(t=>t==n))return}i().classList.add(n);t=f(t);e[t](u);i().classList.remove(n)}};return{getCurrentPart:i,showLastPart(n){n.preventDefault();f(n,n=>--n)},showNextPart(n){n.preventDefault();f(n,n=>++n)}}})();u();document.getElementById("past-part").addEventListener(t,i.showLastPart);document.getElementById("continue").addEventListener(t,i.showNextPart);document.getElementById("register-submit").addEventListener(t,o.bind(null,i))}window.addEventListener("DOMContentLoaded",runRegisterWithOtherProviderEngine);