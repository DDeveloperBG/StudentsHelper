window.addEventListener("load",()=>{async function f(t){t+1!==n.length&&i(n[t+1],n[t].value)}function i(n,t){function i(t){function f(n){let t=document.createElement("option");return t.value=n.id,t.textContent=n.name,t}const i=new DocumentFragment;let e=r[n.name];i.appendChild(f({id:0,name:e}));t.forEach(n=>{i.appendChild(f(n))});n.innerHTML="";n.appendChild(i);n.parentNode.classList.remove(u)}n.children.length>0&&t==null||fetch(`/Locations/Get?selectName=${n.name}&lastSelectedId=${t}`).then(async n=>await n.json()).then(i)}const r={regionId:"Област",townshipId:"Община",populatedAreaId:"Населено място",schoolId:"Училище"},u="hidden",t=n=>document.querySelector(`select[name="${n}"]`),n=[t("regionId"),t("townshipId"),t("populatedAreaId"),t("schoolId")];n.slice(0,n.length).forEach((n,t)=>n.addEventListener("change",f.bind(null,t)));i(n[0],null)});