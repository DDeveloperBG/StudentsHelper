var isInitialLoad=null;window.addEventListener("load",async()=>{async function o(i){i+1!==n.length&&(f(i+1),t(n[i+1],n[i].value))}function f(t){t!=n.length&&(n[t].parentNode.classList.add(u),n[t].value=0,f(t+1))}async function t(n,t){function r(t){function f(n){let t=document.createElement("option");return t.value=n.id,t.textContent=n.name,t}const r=new DocumentFragment;let o=e[n.name];r.appendChild(f({id:0,name:o}));t.forEach(n=>{r.appendChild(f(n))});n.innerHTML="";n.appendChild(r);n.value=isInitialLoad?n.getAttribute(i):0;n.parentNode.classList.remove(u)}n.children.length>0&&t==null||await fetch(`/Locations/Get?selectName=${n.name}&lastSelectedId=${t}`).then(async n=>await n.json()).then(r)}const i="active-value",e={"Input.RegionId":"Област","Input.TownshipId":"Община","Input.PopulatedAreaId":"Населено място","Input.SchoolId":"Училище"},u="hidden",r=n=>document.querySelector(`select[name="Input.${n}"]`),n=[r("RegionId"),r("TownshipId"),r("PopulatedAreaId"),r("SchoolId")];isInitialLoad=!0;await t(n[0],null);await t(n[1],n[0].getAttribute(i));await t(n[2],n[1].getAttribute(i));await t(n[3],n[2].getAttribute(i));isInitialLoad=!1;n.slice(0,n.length-1).forEach((n,t)=>n.addEventListener("change",o.bind(null,t)))});