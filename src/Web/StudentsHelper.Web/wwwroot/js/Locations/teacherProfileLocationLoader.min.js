async function runTeacherProfileLocationLoader(){try{await teacherProfileLocationLoader()}catch(n){console.error(n)}}async function teacherProfileLocationLoader(){async function s(i){i+1!==n.length&&(e(i+1),await t(n[i+1],n[i].value))}function e(t){t!=n.length&&(n[t].parentNode.classList.add(f),n[t].value=0,e(t+1))}async function t(n,t){function r(t){function e(n){let t=document.createElement("option");return t.value=n.id,t.textContent=n.name,t}const r=new DocumentFragment;let s=o[n.name];r.appendChild(e({id:0,name:s}));t.forEach(n=>{r.appendChild(e(n))});n.innerHTML="";n.appendChild(r);n.value=u?n.getAttribute(i):0;n.parentNode.classList.remove(f)}n.children.length>0&&t==null||await fetch(`/Locations/Get?selectName=${n.name}&lastSelectedId=${t}`).then(async n=>await n.json()).then(r)}let u=null;const i="active-value",o={"Input.RegionId":"Област","Input.TownshipId":"Община","Input.PopulatedAreaId":"Населено място","Input.SchoolId":"Училище"},f="hidden",r=n=>document.querySelector(`select[name="Input.${n}"]`),n=[r("RegionId"),r("TownshipId"),r("PopulatedAreaId"),r("SchoolId")];u=!0;await t(n[0],null);await t(n[1],n[0].getAttribute(i));await t(n[2],n[1].getAttribute(i));await t(n[3],n[2].getAttribute(i));u=!1;n.slice(0,n.length-1).forEach((n,t)=>n.addEventListener("change",s.bind(null,t)))}window.addEventListener("DOMContentLoaded",runTeacherProfileLocationLoader);