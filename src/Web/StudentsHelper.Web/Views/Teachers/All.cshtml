@using StudentsHelper.Common
@using StudentsHelper.Web.ViewModels.Teachers

@model TeachersOfSubjectType<StudentsHelper.Services.Data.Ratings.Models.TeacherWithRating>

@{
    ViewData["Title"] = $"Учители по {Model.SubjectName}";
}

<h1 class="mt-3 text-center">@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-3">
        <form class="justify-content-center">
            <input type="hidden" name="subjectId" value=@Model.SubjectId />
            <div class="form-group">
                <label>Област:</label>
                <select name="regionId" class="form-control">
                </select>
            </div>
            <div class="form-group hidden">
                <label>Община:</label>
                <select name="townshipId" class="form-control">
                    <option value="0">Община</option>
                </select>
            </div>
            <div class="form-group hidden">
                <label>Населено място:</label>
                <select name="populatedAreaId" class="form-control">
                    <option value="0">Населено място</option>
                </select>
            </div>
            <div class="form-group hidden">
                <label>Училище:</label>
                <select name="schoolId" class="form-control">
                    <option value="0">Училище</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary mt-1">Търси</button>
        </form>
    </div>
    <div class="col-md-8 container mt-3">
        @foreach (var item in Model.Teachers)
        {
            <div class="mb-2 p-2 row" style="box-shadow: 0 1px 3px 0 rgb(0 0 0 / 1%), 0 1px 3px 0 rgb(0 0 0 / 1%), 0 1px 3px 0 rgb(0 0 0 / 22%); border-radius: 6px;">
                <vc:user-profile-picture picture-path="@item.ApplicationUserPicturePath" is-active="@item.IsActive"></vc:user-profile-picture>
                <p class="col-4 m-auto">
                    @item.ApplicationUserName
                </p>
                <p class="col-2 m-auto">
                    @item.HourWage лв/час
                </p>
                <p class="col-1 m-auto pr-0">
                    @item.AverageRating <img class="mb-1" src="~/img/star.png">
                </p>
                <a asp-area="" asp-controller="Teachers" asp-action="Details" asp-route-teacherId="@item.Id" class="col-2 m-auto btn btn-info">
                    Детайли
                </a>
            </div>
        }
    </div>
</div>

@section Scripts {
<script src="~/js/Locations/locations.js" asp-append-version="true"></script>
}
